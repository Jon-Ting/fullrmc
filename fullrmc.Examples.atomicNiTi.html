<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Relative path &mdash; fullrmc 3.0.2, the Reverse Monte Carlo (RMC) package</title>
    
    <link rel="stylesheet" href="_static/fullrmc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '3.0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
            <link rel="author" title="About these documents" href="about.html" />
            <link rel="top" title="fullrmc 3.0.2, the Reverse Monte Carlo (RMC) package" href="index.html" />
    
    <!-- -------------------------------------------------------------------------- -->
    <!-- ----- ADD a Mathjax CONFIGURATION SCRIPT TO EACH HTML FILE PRODUCED ------ -->
    <!-- ----- BY SPHINX. THEREFORE \AA WILL BE RENDERED AS Angstrom SYMBOL. ------ -->
        <script type="text/x-mathjax-config"> MathJax.Hub.Config({
        "TeX": {Macros: {AA : "{\\unicode{x212B}}"}}, "HTML-CSS": {scale: 100}});
        </script>
    
    </head>
  
    <body>
        <!-- ------------------------------------- -->
        <!-- ----- CREATE A STATIC MENU BAR ------ -->
        <div class="menu"> 
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="versions.html">Versions</a></li>
                <li><a href="QAForum.html">Q&A Forum</a></li>
                <li><a href="fullrmc.Selectors.html">Selectors</a></li>
                <li><a href="fullrmc.Generators.html">Generators</a></li>
                <li><a href="fullrmc.Constraints.html">Constraints</a></li>
                <li><a href="examples.html">Examples</a></li>
                <li><a href="about.html">About</a></li>
                <!-- pypi and github forkme link images table -->
                <li> 
                    <table style="position: absolute; right:0; top:0;">
                        <!-- pypi image -->
                        <td><a href="https://pypi.python.org/pypi/fullrmc">
                            <img height="40";
                                 src="_static/pypi.png"
                                 alt="Download me on PyPI"/>   
                        </a></td> 
                        <!-- github image -->
                        <td><a href="https://github.com/bachiraoun/fullrmc.git">
                            <img height="40";
                                 src="_static/forkme.png"
                                 alt="Fork me on GitHub" />   
                        </a></td>
                    </table>
                </li>
                <!-- ------------------------------------- -->
            </ul>
            <div class="clear"></div>
        </div>
        <!----------  STATIC MENU BAR STYLE --------->    
        <style>
        .menu { height: 42px; background-color:black; margin:0px;  
                z-index: 9999; position:Fixed;
                left: 0; top: 0; width: 100%; }
            .menu ul { list-style: none; }
            .menu ul li{float: left; padding-left: 6px;  padding-right: 6px;  border-right: 1px solid #ACACAC;}
            .menu ul li a { font-size:16px; color:white;}
            .menu ul li a:hover{ text-decoration: underline;}
        </style>
        <!-- ------ ENF OF MENU BAR CREATION ----- -->
        <!-- ------------------------------------- -->
        
        <div style="margin-top:40px"> </div>  
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a>
             |
        
        </li>
        <li><a href="index.html">fullrmc 3.0.2, the Reverse Monte Carlo (RMC) package</a> &raquo;</li> 
      </ul>
    </div>
         
         
        
        
        <div class="document">
        <div class="documentwrapper">
            <div class="bodywrapper">
        <div class="body">
        
  <div class="section" id="relative-path">
<h1>Relative path<a class="headerlink" href="#relative-path" title="Permalink to this headline">¶</a></h1>
<p>../fullrmc/Examples/atomicNiTi/</p>
</div>
<div class="section" id="description">
<h1>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h1>
<p>A box of 3375 Nickel atoms and 3375 Titanium which makes a total of 6750 arranged
in a body centred cubic crystal of length <span class="math">\(3.05 \AA\)</span>. x-rays pair distribution
function and Atomic Structure Factor are used simultaneously to build and fit a model.
In this example, it was necessary to use <a class="reference internal" href="fullrmc.Generators.html#fullrmc.Generators.Swaps.SwapPositionsGenerator" title="fullrmc.Generators.Swaps.SwapPositionsGenerator"><code class="xref py py-class docutils literal"><span class="pre">SwapPositionsGenerator</span></code></a> in order to
fit long ranger ordering. This example was used to generate the
<a class="reference external" href="https://youtu.be/yTnCAw1DK3Q?list=PLdnpUo5ObkNbe4ZPe9ndormg2qUFbOmco">swap video</a>
as seen in the online documentation.</p>
</div>
<div class="section" id="files">
<h1>Files<a class="headerlink" href="#files" title="Permalink to this headline">¶</a></h1>
<ol class="arabic simple">
<li>system.pdb: The initial configuration input file.</li>
<li>experimental.gr: The x-rays experimental pair distribution function data.</li>
<li>experimental.fq: The x-rays experimental reduced structure factor data.</li>
<li>run.py: The script file used to run the simulation.</li>
<li>plot.py: The script file to plot the last saved engine state of
<a class="reference internal" href="fullrmc.Constraints.html#fullrmc.Constraints.PairDistributionConstraints.PairDistributionConstraint" title="fullrmc.Constraints.PairDistributionConstraints.PairDistributionConstraint"><code class="xref py py-class docutils literal"><span class="pre">PairDistributionConstraint</span></code></a> and
<a class="reference internal" href="fullrmc.Constraints.html#fullrmc.Constraints.StructureFactorConstraints.ReducedStructureFactorConstraint" title="fullrmc.Constraints.StructureFactorConstraints.ReducedStructureFactorConstraint"><code class="xref py py-class docutils literal"><span class="pre">ReducedStructureFactorConstraint</span></code></a> constraints data.</li>
<li>visualize.py: The script file to visualize the last save configuration
using <a class="reference external" href="http://www.ks.uiuc.edu/Research/vmd/">VMD</a>. if installed.</li>
</ol>
</div>
<div class="section" id="run-py-explained">
<h1>run.py explained<a class="headerlink" href="#run-py-explained" title="Permalink to this headline">¶</a></h1>
<p><span class="underline">IMPORTING USEFUL DEFINITIONS:</span></p>
<p>All useful packages, modules and definitions are imported.</p>
<p><span class="underline">CREATE ENGINE:</span></p>
<p>Check if engine already saved on disk. In the affirmative load it to continue
fitting from last saved configuration. Otherwise, build the engine and the needed
constraints. In this particular example, &#8216;experimental.fq&#8217; has no regular bins.
Therefore, rebinning it needs to be rebinned using &#8216;fullrmc.Core.Collection.rebin&#8217;
function. Even though engine contains <a class="reference internal" href="fullrmc.Constraints.html#fullrmc.Constraints.AtomicCoordinationConstraints.AtomicCoordinationNumberConstraint" title="fullrmc.Constraints.AtomicCoordinationConstraints.AtomicCoordinationNumberConstraint"><code class="xref py py-class docutils literal"><span class="pre">AtomicCoordinationNumberConstraint</span></code></a>
we decided to discard this constraint upon fitting by using set_used method and
assigned &#8216;used&#8217; flag to False.</p>
<p><span class="underline">DIFFERENT RUNS:</span></p>
<p>Define functions to run the fitting engine. All of the following functions finish
running the engine using Engine.run method.</p>
<ol class="arabic simple">
<li>run_normal: used set_groups(None) which is equivalent to creating
a group per atom. Here the engine runs traditional RMC with
random selection of groups using <a class="reference internal" href="fullrmc.Selectors.html#fullrmc.Selectors.RandomSelectors.RandomSelector" title="fullrmc.Selectors.RandomSelectors.RandomSelector"><code class="xref py py-class docutils literal"><span class="pre">RandomSelector</span></code></a> and random
atomic translations using <a class="reference internal" href="fullrmc.Generators.html#fullrmc.Generators.Translations.TranslationGenerator" title="fullrmc.Generators.Translations.TranslationGenerator"><code class="xref py py-class docutils literal"><span class="pre">TranslationGenerator</span></code></a> move
generator.</li>
<li>run_swap: used set_groups(None) which is equivalent to creating
a group per atom. Create two swapping lists. The first one containing
only all Nickel atoms indexes and the second only Titanium atoms indexes.
Create two <a class="reference internal" href="fullrmc.Generators.html#fullrmc.Generators.Swaps.SwapPositionsGenerator" title="fullrmc.Generators.Swaps.SwapPositionsGenerator"><code class="xref py py-class docutils literal"><span class="pre">SwapPositionsGenerator</span></code></a> for swapping Nickel atoms with
Titanium and the other the opposite. Loop over all engine&#8217;s groups, check
whether group&#8217;s atom is Nickel or Titanium and assign it respectively
<a class="reference internal" href="fullrmc.Generators.html#fullrmc.Generators.Swaps.SwapPositionsGenerator" title="fullrmc.Generators.Swaps.SwapPositionsGenerator"><code class="xref py py-class docutils literal"><span class="pre">SwapPositionsGenerator</span></code></a> to Titanium atoms and another
<a class="reference internal" href="fullrmc.Generators.html#fullrmc.Generators.Swaps.SwapPositionsGenerator" title="fullrmc.Generators.Swaps.SwapPositionsGenerator"><code class="xref py py-class docutils literal"><span class="pre">SwapPositionsGenerator</span></code></a> to Nickel atoms.
Advanced users can change <a class="reference internal" href="fullrmc.Constraints.html#fullrmc.Constraints.AtomicCoordinationConstraints.AtomicCoordinationNumberConstraint" title="fullrmc.Constraints.AtomicCoordinationConstraints.AtomicCoordinationNumberConstraint"><code class="xref py py-class docutils literal"><span class="pre">AtomicCoordinationNumberConstraint</span></code></a> used flag
to True and try playing with the given coordination number definition and improve
the fit quality and the physical meaning of the final structure.</li>
</ol>
<p><span class="underline">RUN SIMULATION:</span></p>
<p>run_normal several times with different number of steps and saving frequencies.
This sampling is not needed but it was done as such for the purpose of saving
different pdb file snapshots at different stages of the fitting. At the end
run_swap is called to fit long range order correlations.</p>
<p><span class="underline">PLOT PDF CONSTRAINT:</span></p>
<p>Plotting simultaneously <a class="reference internal" href="fullrmc.Constraints.html#fullrmc.Constraints.PairDistributionConstraints.PairDistributionConstraint" title="fullrmc.Constraints.PairDistributionConstraints.PairDistributionConstraint"><code class="xref py py-class docutils literal"><span class="pre">PairDistributionConstraint</span></code></a> and
<a class="reference internal" href="fullrmc.Constraints.html#fullrmc.Constraints.StructureFactorConstraints.ReducedStructureFactorConstraint" title="fullrmc.Constraints.StructureFactorConstraints.ReducedStructureFactorConstraint"><code class="xref py py-class docutils literal"><span class="pre">ReducedStructureFactorConstraint</span></code></a> data after fitting.</p>
</div>


        </div>
            </div>
        </div>
        
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Relative path</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#files">Files</a></li>
<li><a class="reference internal" href="#run-py-explained">run.py explained</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
        
        <div class="clearer"></div>
        </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a>
        </li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a>
             |
        
        </li>
        <li><a href="index.html">fullrmc 3.0.2, the Reverse Monte Carlo (RMC) package</a> &raquo;</li> 
      </ul>
    </div>
            <div class="footer">
                    &copy; Copyright 2015, Bachir Aoun.
            </div>
    </body>
</html>