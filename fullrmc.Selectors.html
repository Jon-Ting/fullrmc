<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>fullrmc.Selectors package &mdash; fullrmc 0.4.0, the Reverse Monte Carlo (RMC) package</title>
    
    <link rel="stylesheet" href="_static/fullrmc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
            <link rel="author" title="About these documents" href="about.html" />
            <link rel="top" title="fullrmc 0.4.0, the Reverse Monte Carlo (RMC) package" href="index.html" />
            <link rel="next" title="fullrmc.Generators package" href="fullrmc.Generators.html" />
            <link rel="prev" title="fullrmc.Core package" href="fullrmc.Core.html" />  
    </head>
  
    <body>
        <!-- ------------------------------------- -->
        <!-- ----- CREATE A STATIC MENU BAR ------ -->
        <div class="menu"> 
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="versions.html">Versions</a></li>
                <li><a href="forum.html">Q&A Forum</a></li>
                <li><a href="fullrmc.Selectors.html">Selectors</a></li>
                <li><a href="fullrmc.Generators.html">Generators</a></li>
                <li><a href="fullrmc.Constraints.html">Constraints</a></li>
                <li><a href="examples.html">Examples</a></li>
                <li><a href="about.html">About</a></li>
                <!-- pypi and github forkme link images table -->
                <li> 
                    <table style="position: absolute; right:0; top:0;">
                        <!-- pypi image -->
                        <td><a href="https://pypi.python.org/pypi/fullrmc">
                            <img height="40";
                                 src="_static/pypi.png"
                                 alt="Download me on PyPI"/>   
                        </a></td> 
                        <!-- github image -->
                        <td><a href="https://github.com/bachiraoun/fullrmc.git">
                            <img height="40";
                                 src="_static/forkme.png"
                                 alt="Fork me on GitHub" />   
                        </a></td>
                    </table>
                </li>
                <!-- ------------------------------------- -->
            </ul>
            <div class="clear"></div>
        </div>
        <!----------  STATIC MENU BAR STYLE --------->    
        <style>
        .menu { height: 42px; background-color:black; margin:0px;  
                z-index: 9999; position:Fixed;
                left: 0; top: 0; width: 100%; }
            .menu ul { list-style: none; }
            .menu ul li{float: left; padding-left: 6px;  padding-right: 6px;  border-right: 1px solid #ACACAC;}
            .menu ul li a { font-size:16px; color:white;}
            .menu ul li a:hover{ text-decoration: underline;}
        </style>
        <!-- ------ ENF OF MENU BAR CREATION ----- -->
        <!-- ------------------------------------- -->
        
        <div style="margin-top:40px"> </div>  
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a>
             |
        
        </li>
        <li class="right" >
          <a href="fullrmc.Generators.html" title="fullrmc.Generators package"
             accesskey="N">next</a>
             |
        
        </li>
        <li class="right" >
          <a href="fullrmc.Core.html" title="fullrmc.Core package"
             accesskey="P">previous</a>
             |
        
        </li>
        <li><a href="index.html">fullrmc 0.4.0, the Reverse Monte Carlo (RMC) package</a> &raquo;</li> 
      </ul>
    </div>
         
         
        
        
        <div class="document">
        <div class="documentwrapper">
            <div class="bodywrapper">
        <div class="body">
        
  <p>GroupSelector contains parent classes for all group selectors.
A GroupSelector is used at the Engine runtime to select groups upon which a move will be applied.
Therefore it has become possible to fully customize the selection of groups of atoms and to choose 
when and how frequently a group can be chosen to perform a move upon.</p>
<p class="graphviz">
<img src="_images/inheritance-30429d74f7a2825df28f27f0ab792bf818384511.png" alt="Inheritance diagram of fullrmc.Core.GroupSelector" usemap="#inheritance241b5f69c1" class="inheritance"/>
<map id="inheritance241b5f69c1" name="inheritance241b5f69c1">
<area shape="rect" id="node1" href="fullrmc.Core.html#fullrmc.Core.GroupSelector.GroupSelector" title="GroupSelector is the parent class that selects groups to perform moves upon engine runtime." alt="" coords="5,5,111,31"/>
<area shape="rect" id="node2" href="fullrmc.Core.html#fullrmc.Core.GroupSelector.RecursiveGroupSelector" title="RecursiveSelector is the only selector that can use the recursive property on a selection." alt="" coords="159,5,320,31"/>
</map>
</p>
<dl class="class">
<dt>
<em class="property">class </em><tt class="descclassname">fullrmc.Core.GroupSelector.</tt><tt class="descname">GroupSelector</tt><big>(</big><em>engine=None</em><big>)</big></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>GroupSelector is the parent class that selects groups to perform moves upon engine runtime.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>engine (None, fullrmc.Engine): The selector fullrmc engine instance.</li>
</ol>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<tt class="descname">engine</tt></dt>
<dd><p>Get the engine instance.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">refine</tt></dt>
<dd><p>Get refine flag value. It will always return False because
refine is a property of RecursiveGroupSelector instances only.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">explore</tt></dt>
<dd><p>Get explore flag value. It will always return False because
explore is a property of RecursiveGroupSelector instances only.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">willSelect</tt></dt>
<dd><p>Get whether next step a new selection is occur or still the same group is going to be selected again. 
It will always return True because recurrence is a property of RecursiveGroupSelector instances only.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">willRecur</tt></dt>
<dd><p>Get whether next step the same group will be returned.
It will always return False because this is a property of RecursiveGroupSelector instances only.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">willRefine</tt></dt>
<dd><p>Get whether selection is recurring and refine flag is True.
It will always return False because recurrence is a property of RecursiveGroupSelector instances only.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">willExplore</tt></dt>
<dd><p>Get whether selection is recurring and explore flag is True.
It will always return False because recurrence is a property of RecursiveGroupSelector instances only.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">isNewSelection</tt></dt>
<dd><p>Get whether the last step a new selection was made. 
It will always return True because recurrence is a property of RecursiveGroupSelector instances only.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">isRecurring</tt></dt>
<dd><p>Get whether the last step the same group was returned.
It will always return False because this is a property of RecursiveGroupSelector instances only.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">isRefining</tt></dt>
<dd><p>Get whether selection is recurring and refine flag is True.
It will always return False because recurrence is a property of RecursiveGroupSelector instances only.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">isExploring</tt></dt>
<dd><p>Get whether selection is recurring and explore flag is True.
It will always return False because recurrence is a property of RecursiveGroupSelector instances only.</p>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">listen</tt><big>(</big><em>message</em>, <em>argument=None</em><big>)</big></dt>
<dd><p>Listens to any message sent from the Broadcaster.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>message (object): Any python object to send to constraint&#8217;s listen method.</li>
<li>arguments (object): Any type of argument to pass to the listeners.</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">set_engine</tt><big>(</big><em>engine</em><big>)</big></dt>
<dd><p>Sets the selector fullrmc engine instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>engine (None, fullrmc.Engine): The selector fullrmc engine.</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">select_index</tt><big>(</big><big>)</big></dt>
<dd><p>This method must be overloaded in every GroupSelector sub-class</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ol class="first last arabic simple">
<li>index (integer): the selected group index in engine groups list</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">move_accepted</tt><big>(</big><em>index</em><big>)</big></dt>
<dd><p>This method is called by the engine when a move generated on a group is accepted.
This method is empty must be overloaded when needed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>index (integer): the selected group index in engine groups list</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">move_rejected</tt><big>(</big><em>index</em><big>)</big></dt>
<dd><p>This method is called by the engine when a move generated on a group is rejected.
This method is empty must be overloaded when needed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>index (integer): the selected group index in engine groups list</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><tt class="descclassname">fullrmc.Core.GroupSelector.</tt><tt class="descname">RecursiveGroupSelector</tt><big>(</big><em>selector</em>, <em>recur=10</em>, <em>override=True</em>, <em>refine=False</em>, <em>explore=False</em><big>)</big></dt>
<dd><p>Bases: <a class="reference internal" href="fullrmc.Core.html#fullrmc.Core.GroupSelector.GroupSelector" title="fullrmc.Core.GroupSelector.GroupSelector"><tt class="xref py py-class docutils literal"><span class="pre">fullrmc.Core.GroupSelector.GroupSelector</span></tt></a></p>
<p>RecursiveSelector is the only selector that can use the recursive property on a selection.
It is used as a wrapper around a GroupSelector instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>selector (fullrmc.Core.GroupSelector.GroupSelector): The selector instance to wrap.</li>
<li>recur (integer): Set number of times to recur. 
It must be a positive integer.</li>
<li>override (boolean): Override temporary recur value.
recur value will be overridden only when selected group move generator is a PathGenerator instance.
In this particular case, recur value will be temporary changed to the number of moves stored in the PathGenerator.
If selected group move generator is not a PathGenerator instance, 
recur value will take back its original value.</li>
<li>refine (boolean): Its an engine flag that is used to refine the position of a group until 
recurrence expires and a new group is selected. Refinement is done by applying moves upon 
the selected group always from its initial position at the time it was selected until 
recurrence expires, then the best position is kept.</li>
<li>explore (boolean): Its an engine flag that is used to make a group explore the space around it
until recurrence expires and a new group is selected. Exploring is done by applying moves upon
the selected group starting from its initial position and evolving in a trajectory like way 
until recurrence expires, then the best position is kept.</li>
</ol>
</td>
</tr>
</tbody>
</table>
<p><strong>NB</strong>: refine and explore flags can&#8217;t both be set to True at the same time. 
When this happens refine flag gets automatically switched to False.
The usage of those flags is very important because they allow groups of atoms to go out
of local minima in the energy surface. The way RMC works is
by always minimizing the total energy of the system (error) using gradient descent method.
The use of those flags allows the system to go up hill in the energy surface searching
for other lower minimas, while always conserving the lowest energy state found and not
changing the system structure until a better structure with smaller error is found.</p>
<p>
The following video compares the Reverse Monte Carlo traditional fitting mode
with fullrmc's recursive selection one with explore flag set to True. 
From a potential point of view, exploring allows to cross forbidden unlikely 
energy barriers and going out of local minimas.
</p>
<iframe width= "560" height="315" 
src="https://www.youtube.com/embed/24Rd2EZ2vVo?rel=0"  
frameborder="0" allowfullscreen>
</iframe>  

<p>
The following video is an example of refining the position of a molecule using
RecursiveGroupSelector and setting refine flag to True.
The molecule is always refined from its original position towards a new one generated by the move generator.         
</p>
<iframe width="560" height="315" 
src="https://www.youtube.com/embed/tFYHOD00j_o?rel=0" 
frameborder="0" allowfullscreen>
</iframe>

<p>
The following video is an example of exploring the space of a molecule using
RecursiveGroupSelector and setting explore flag to True.
The molecule explores the allowed space by wandering via its move generator and only
moves enhancing the structure are stored.         
</p>
<iframe width="560" height="315" 
src="https://www.youtube.com/embed/wafgTfHNpvs?rel=0" 
frameborder="0" allowfullscreen>
</iframe>    <div class="highlight-python"><div class="highlight"><pre><span class="c"># import fullrmc modules</span>
<span class="kn">from</span> <span class="nn">fullrmc.Engine</span> <span class="kn">import</span> <span class="n">Engine</span>
<span class="kn">from</span> <span class="nn">fullrmc.Core.GroupSelector</span> <span class="kn">import</span> <span class="n">RecursiveGroupSelector</span>

<span class="c"># create engine </span>
<span class="n">ENGINE</span> <span class="o">=</span> <span class="n">Engine</span><span class="p">(</span><span class="n">pdb</span><span class="o">=</span><span class="s">&#39;system.pdb&#39;</span><span class="p">)</span>

<span class="c"># Add constraints ...</span>
<span class="c"># Re-define groups if needed ...</span>
<span class="c"># Re-define groups selector if needed ...</span>

<span class="c">##### Wrap engine group selector with a recursive group selector. #####</span>
<span class="c"># create recursive group selector. Recurrence is set to 20 with explore flag set to True.</span>
<span class="n">RGS</span> <span class="o">=</span> <span class="n">RecursiveGroupSelector</span><span class="p">(</span><span class="n">ENGINE</span><span class="o">.</span><span class="n">groupSelector</span><span class="p">,</span> <span class="n">recur</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">refine</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">explore</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">ENGINE</span><span class="o">.</span><span class="n">set_group_selector</span><span class="p">(</span><span class="n">RGS</span><span class="p">)</span>
</pre></div>
</div>
<dl class="attribute">
<dt>
<tt class="descname">selector</tt></dt>
<dd><p>Get the wrapped selector instance.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">lastSelectedIndex</tt></dt>
<dd><p>Get the last selected group index.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">willSelect</tt></dt>
<dd><p>Get whether next step a new selection is occur or still the same group is going to be selected again.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">willRecur</tt></dt>
<dd><p>Get whether next step the same group will be returned.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">willRefine</tt></dt>
<dd><p>Get whether next step the same group will be returned and refine flag is True.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">willExplore</tt></dt>
<dd><p>Get whether next step the same group will be returned and explore flag is True.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">isNewSelection</tt></dt>
<dd><p>Get whether this last step a new selection was made.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">isRecurring</tt></dt>
<dd><p>Get whether this last step the same group was returned.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">isRefining</tt></dt>
<dd><p>Get whether this last step the same group was returned and refine flag is True.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">isExploring</tt></dt>
<dd><p>Get whether this last step the same group was returned and explore flag is True.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">override</tt></dt>
<dd><p>Get override flag value.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">refine</tt></dt>
<dd><p>Get refine flag value.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">explore</tt></dt>
<dd><p>Get explore flag value.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">currentRecur</tt></dt>
<dd><p>Get the current recur value which is selected group dependant when override flag is True.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">recur</tt></dt>
<dd><p>Get current recur value. 
The set recur value can change during engine runtime if override flag is True.
To get the recur value as set by set_recur method recurAsSet must be used.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">recurAsSet</tt></dt>
<dd><p>Get recur value as set but set_recur method.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">position</tt></dt>
<dd><p>Get the position of the selector in the path.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">engine</tt></dt>
<dd><p>Get the wrapped selector engine instance.</p>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">set_engine</tt><big>(</big><em>engine</em><big>)</big></dt>
<dd><p>Sets the wrapped selector fullrmc engine instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>engine (None, fullrmc.Engine): The selector fullrmc engine.</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">set_recur</tt><big>(</big><em>recur</em><big>)</big></dt>
<dd><p>Sets the recur value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>recur (integer): Set the recur value.
It must be a positive integer.</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">set_override</tt><big>(</big><em>override</em><big>)</big></dt>
<dd><p>Select override value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>override (boolean): Override selector recur value only when selected group move generator is a PathGenerator instance.
Overridden recur value is temporary and totally selected group dependant.
If selected group move generator is not a PathGenerator instance, recur value will take back selector&#8217;s recur value.</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">set_refine</tt><big>(</big><em>refine</em><big>)</big></dt>
<dd><p>Select override value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>refine (boolean): Its an engine flag that is used to refine the position of a group until 
recurrence expires and a new group is selected. Refinement is done by applying moves upon 
the selected group always from its initial position at the time it was selected until 
recurrence expires, then the best position is kept.</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">set_explore</tt><big>(</big><em>explore</em><big>)</big></dt>
<dd><p>Select override value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>explore (boolean): Its an engine flag that is used to make a group explore the space around it
until recurrence expires and a new group is selected. Exploring is done by applying moves upon
the selected group starting from its initial position and evolving in a trajectory like way 
until recurrence expires, then the best position is kept.</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">select_index</tt><big>(</big><big>)</big></dt>
<dd><p>Select new index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ol class="first last arabic simple">
<li>index (integer): the selected group index in engine groups list</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<div class="section" id="fullrmc-selectors-package">
<h1>fullrmc.Selectors package<a class="headerlink" href="#fullrmc-selectors-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-fullrmc.Selectors.OrderedSelectors">
<span id="orderedselectors"></span><h2>OrderedSelectors<a class="headerlink" href="#module-fullrmc.Selectors.OrderedSelectors" title="Permalink to this headline">¶</a></h2>
<p>OrderedSelectors contains GroupSelector classes of defined order of selection.</p>
<p class="graphviz">
<img src="_images/inheritance-57e15d2e317a4c39f1f4e00f745ce44c14fc959d.png" alt="Inheritance diagram of fullrmc.Selectors.OrderedSelectors" usemap="#inheritancec550f91c65" class="inheritance"/>
<map id="inheritancec550f91c65" name="inheritancec550f91c65">
<area shape="rect" id="node1" href="#fullrmc.Selectors.OrderedSelectors.DefinedOrderSelector" title="DefinedOrderSelector is a group selector with a defined order of selection." alt="" coords="159,5,304,31"/>
<area shape="rect" id="node3" href="#fullrmc.Selectors.OrderedSelectors.DirectionalOrderSelector" title="DirectionalOrderSelector is a group selector with a defined order of selection." alt="" coords="352,5,515,31"/>
<area shape="rect" id="node2" href="fullrmc.Core.html#fullrmc.Core.GroupSelector.GroupSelector" title="GroupSelector is the parent class that selects groups to perform moves upon engine runtime." alt="" coords="5,5,111,31"/>
</map>
</p>
<dl class="class">
<dt id="fullrmc.Selectors.OrderedSelectors.DefinedOrderSelector">
<em class="property">class </em><tt class="descclassname">fullrmc.Selectors.OrderedSelectors.</tt><tt class="descname">DefinedOrderSelector</tt><big>(</big><em>engine</em>, <em>order=None</em><big>)</big><a class="headerlink" href="#fullrmc.Selectors.OrderedSelectors.DefinedOrderSelector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="fullrmc.Core.html#fullrmc.Core.GroupSelector.GroupSelector" title="fullrmc.Core.GroupSelector.GroupSelector"><tt class="xref py py-class docutils literal"><span class="pre">fullrmc.Core.GroupSelector.GroupSelector</span></tt></a></p>
<p>DefinedOrderSelector is a group selector with a defined order of selection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>engine (None, fullrmc.Engine): The selector RMC engine.</li>
<li>order (None, list, set, tuple, numpy.ndarray): The selector order of groups.
If None, order is set automatically to all groups indexes list.</li>
</ol>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># import external libraries</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="c"># import fullrmc modules</span>
<span class="kn">from</span> <span class="nn">fullrmc.Engine</span> <span class="kn">import</span> <span class="n">Engine</span>
<span class="kn">from</span> <span class="nn">fullrmc.Selectors.OrderedSelectors</span> <span class="kn">import</span> <span class="n">DefinedOrderSelector</span>

<span class="c"># create engine </span>
<span class="n">ENGINE</span> <span class="o">=</span> <span class="n">Engine</span><span class="p">(</span><span class="n">pdb</span><span class="o">=</span><span class="s">&#39;system.pdb&#39;</span><span class="p">)</span>

<span class="c"># Add constraints ...</span>
<span class="c"># Re-define groups if needed ...</span>
<span class="c"># Re-define groups generators as needed ...</span>

<span class="c">##### set the order of selection from closest to the origin to the further. #####</span>
<span class="c"># compute groups centers</span>
<span class="n">centers</span>   <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">ENGINE</span><span class="o">.</span><span class="n">realCoordinates</span><span class="p">[</span><span class="n">g</span><span class="o">.</span><span class="n">indexes</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">g</span><span class="p">)</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">ENGINE</span><span class="o">.</span><span class="n">groups</span><span class="p">]</span>
<span class="c"># compute distances to origin</span>
<span class="n">distances</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span><span class="n">c</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">centers</span><span class="p">]</span>
<span class="c"># compute increasing order</span>
<span class="n">order</span>     <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">distances</span><span class="p">)</span>
<span class="c"># set group selector</span>
<span class="n">ENGINE</span><span class="o">.</span><span class="n">set_group_selector</span><span class="p">(</span> <span class="n">DefinedOrderSelector</span><span class="p">(</span><span class="n">ENGINE</span><span class="p">,</span> <span class="n">order</span> <span class="o">=</span> <span class="n">order</span><span class="p">)</span> <span class="p">)</span>         
</pre></div>
</div>
<dl class="attribute">
<dt id="fullrmc.Selectors.OrderedSelectors.DefinedOrderSelector.order">
<tt class="descname">order</tt><a class="headerlink" href="#fullrmc.Selectors.OrderedSelectors.DefinedOrderSelector.order" title="Permalink to this definition">¶</a></dt>
<dd><p>List copy of the order of selection.</p>
</dd></dl>

<dl class="attribute">
<dt id="fullrmc.Selectors.OrderedSelectors.DefinedOrderSelector.index">
<tt class="descname">index</tt><a class="headerlink" href="#fullrmc.Selectors.OrderedSelectors.DefinedOrderSelector.index" title="Permalink to this definition">¶</a></dt>
<dd><p>The current selection index.</p>
</dd></dl>

<dl class="method">
<dt id="fullrmc.Selectors.OrderedSelectors.DefinedOrderSelector.set_order">
<tt class="descname">set_order</tt><big>(</big><em>order</em><big>)</big><a class="headerlink" href="#fullrmc.Selectors.OrderedSelectors.DefinedOrderSelector.set_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Set selector groups order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>order (None, list, set, tuple, numpy.ndarray): The selector order of groups.</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fullrmc.Selectors.OrderedSelectors.DefinedOrderSelector.select_index">
<tt class="descname">select_index</tt><big>(</big><big>)</big><a class="headerlink" href="#fullrmc.Selectors.OrderedSelectors.DefinedOrderSelector.select_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Select index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ol class="first last arabic simple">
<li>index (integer): The selected group index in engine groups list.</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="fullrmc.Selectors.OrderedSelectors.DirectionalOrderSelector">
<em class="property">class </em><tt class="descclassname">fullrmc.Selectors.OrderedSelectors.</tt><tt class="descname">DirectionalOrderSelector</tt><big>(</big><em>engine</em>, <em>center=None</em>, <em>expand=True</em>, <em>adjustMoveGenerators=False</em>, <em>generatorsParams={'TG': {'angle': 90</em>, <em>'damping': 0.1</em>, <em>'amplitude': 0.1}</em>, <em>'RG': {'amplitude': 10}}</em><big>)</big><a class="headerlink" href="#fullrmc.Selectors.OrderedSelectors.DirectionalOrderSelector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fullrmc.Selectors.OrderedSelectors.DefinedOrderSelector" title="fullrmc.Selectors.OrderedSelectors.DefinedOrderSelector"><tt class="xref py py-class docutils literal"><span class="pre">fullrmc.Selectors.OrderedSelectors.DefinedOrderSelector</span></tt></a></p>
<p>DirectionalOrderSelector is a group selector with a defined order of selection.
The order of selection is computed automatically at engine runtime by computing
Groups distance to center, and setting the order from the further to the closest 
if expand argument is True or from the closest to the further if expand is False.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic">
<li><p class="first">engine (None, fullrmc.Engine): The selector RMC engine.</p>
</li>
<li><p class="first">center (None, list, set, tuple, numpy.ndarray): The center of expansion.
If None, the center is automatically set to the origin (0,0,0).</p>
</li>
<li><p class="first">expand (bool): Whether to set the order from the the further to the closest 
or from the closest to the further if it is set to False.</p>
</li>
<li><p class="first">adjustMoveGenerators (bool): If set to True, all groups move generator instances will
be changed automatically at engine runtime to a MoveGeneratorCollector of 
TranslationTowardsCenterGenerator and a randomRotation (for only more than 2 atoms groups). 
Generators parameters can be given by generatorsParams. It is advisable to 
set this flag to True in order to take advantage of an automatic and intelligent directional moves.</p>
</li>
<li><p class="first">generatorsParams (None, dict): The automatically created moves generators parameters.
If None is given, default parameters are used. If a dictionary is given, only two keys are allowed.
&#8216;TG&#8217; key is for TranslationTowardsCenterGenerator parameters and &#8216;RG&#8217; key is
for RotationGenerator parameters. TranslationTowardsCenterGenerator amplitude parameter
is not the same for all groups but intelligently allowing certain groups to move more than
others according to damping parameter.</p>
<p><strong>Parameters are the following:</strong></p>
<ul class="simple">
<li>TG_amp = generatorsParams[&#8216;TG&#8217;][&#8216;amplitude&#8217;]: Used for TranslationTowardsCenterGenerator amplitude parameters.</li>
<li>TG_ang = generatorsParams[&#8216;TG&#8217;][&#8216;angle&#8217;]: Used as TranslationTowardsCenterGenerator angle parameters.</li>
<li>TG_dam = generatorsParams[&#8216;TG&#8217;][&#8216;damping&#8217;]: Also used for TranslationTowardsCenterGenerator amplitude parameters.</li>
<li>RG_ang = generatorsParams[&#8216;RG&#8217;][&#8216;amplitude&#8217;]: Used as RotationGenerator angle parameters.</li>
</ul>
<p><strong>Parameters are used as the following:</strong></p>
<ul>
<li><p class="first">TG = TranslationTowardsCenterGenerator(center={&#8220;fixed&#8221;:center}, amplitude=AMPLITUDE, angle=TG_ang)</p>
<p>Where TG_amp &lt; AMPLITUDE &lt; TG_amp.TG_dam</p>
</li>
<li><p class="first">RG = RotationGenerator(amplitude=RG_ang)</p>
</li>
<li><p class="first">MoveGeneratorCollector(collection=[TG,RG], randomize=True)</p>
</li>
</ul>
<p><strong>NB: The parameters are not checked for errors until engine runtime.</strong></p>
</li>
</ol>
</td>
</tr>
</tbody>
</table>
<iframe width="560" height="315" 
src="https://www.youtube.com/embed/6nsNJrOhLu4?rel=0" 
frameborder="0" allowfullscreen>
</iframe><div class="highlight-python"><div class="highlight"><pre><span class="c"># import fullrmc modules</span>
<span class="kn">from</span> <span class="nn">fullrmc.Engine</span> <span class="kn">import</span> <span class="n">Engine</span>
<span class="kn">from</span> <span class="nn">fullrmc.Selectors.OrderedSelectors</span> <span class="kn">import</span> <span class="n">DirectionalOrderSelector</span>

<span class="c"># create engine </span>
<span class="n">ENGINE</span> <span class="o">=</span> <span class="n">Engine</span><span class="p">(</span><span class="n">pdb</span><span class="o">=</span><span class="s">&#39;system.pdb&#39;</span><span class="p">)</span>

<span class="c"># Add constraints ...</span>
<span class="c"># Re-define groups if needed ...</span>
<span class="c"># Re-define groups generators as needed ...</span>

<span class="c"># Set the order of selection from further to the closest to a (1,1,1).</span>
<span class="c"># Automatically adjust the groups move generators allowing modulation of amplitudes.</span>
<span class="n">ENGINE</span><span class="o">.</span><span class="n">set_group_selector</span><span class="p">(</span> <span class="n">DirectionalOrderSelector</span><span class="p">(</span><span class="n">ENGINE</span><span class="p">,</span> 
                                                    <span class="n">center</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
                                                    <span class="n">adjustMoveGenerators</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="p">)</span>         
</pre></div>
</div>
<dl class="attribute">
<dt id="fullrmc.Selectors.OrderedSelectors.DirectionalOrderSelector.expand">
<tt class="descname">expand</tt><a class="headerlink" href="#fullrmc.Selectors.OrderedSelectors.DirectionalOrderSelector.expand" title="Permalink to this definition">¶</a></dt>
<dd><p>expand flag.</p>
</dd></dl>

<dl class="attribute">
<dt id="fullrmc.Selectors.OrderedSelectors.DirectionalOrderSelector.center">
<tt class="descname">center</tt><a class="headerlink" href="#fullrmc.Selectors.OrderedSelectors.DirectionalOrderSelector.center" title="Permalink to this definition">¶</a></dt>
<dd><p>center (X,Y,Z) coordinates.</p>
</dd></dl>

<dl class="attribute">
<dt id="fullrmc.Selectors.OrderedSelectors.DirectionalOrderSelector.adjustMoveGenerators">
<tt class="descname">adjustMoveGenerators</tt><a class="headerlink" href="#fullrmc.Selectors.OrderedSelectors.DirectionalOrderSelector.adjustMoveGenerators" title="Permalink to this definition">¶</a></dt>
<dd><p>adjustMoveGenerators flag.</p>
</dd></dl>

<dl class="attribute">
<dt id="fullrmc.Selectors.OrderedSelectors.DirectionalOrderSelector.generatorsParams">
<tt class="descname">generatorsParams</tt><a class="headerlink" href="#fullrmc.Selectors.OrderedSelectors.DirectionalOrderSelector.generatorsParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Automatic generators parameters.</p>
</dd></dl>

<dl class="method">
<dt id="fullrmc.Selectors.OrderedSelectors.DirectionalOrderSelector.set_generators_parameters">
<tt class="descname">set_generators_parameters</tt><big>(</big><em>generatorsParams</em><big>)</big><a class="headerlink" href="#fullrmc.Selectors.OrderedSelectors.DirectionalOrderSelector.set_generators_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Set move generators parameters.</p>
<ol class="arabic">
<li><p class="first">generatorsParams (None, dict): The automatically created moves generators parameters.
If None is given, default parameters are used. If a dictionary is given, only two keys are allowed.
&#8216;TG&#8217; key is for TranslationTowardsCenterGenerator parameters and &#8216;RG&#8217; key is
for RotationGenerator parameters. TranslationTowardsCenterGenerator amplitude parameter
is not the same for all groups but intelligently allowing certain groups to move more than
others according to damping parameter.</p>
<p><strong>Parameters are the following:</strong></p>
<ul class="simple">
<li>TG_amp = generatorsParams[&#8216;TG&#8217;][&#8216;amplitude&#8217;]: Used for TranslationTowardsCenterGenerator amplitude parameters.</li>
<li>TG_ang = generatorsParams[&#8216;TG&#8217;][&#8216;angle&#8217;]: Used as TranslationTowardsCenterGenerator angle parameters.</li>
<li>TG_dam = generatorsParams[&#8216;TG&#8217;][&#8216;damping&#8217;]: Also used for TranslationTowardsCenterGenerator amplitude parameters.</li>
<li>RG_ang = generatorsParams[&#8216;RG&#8217;][&#8216;amplitude&#8217;]: Used as RotationGenerator angle parameters.</li>
</ul>
<p><strong>Parameters are used as the following:</strong></p>
<ul>
<li><p class="first">TG = TranslationTowardsCenterGenerator(center={&#8220;fixed&#8221;:center}, amplitude=AMPLITUDE, angle=TG_ang)</p>
<p>Where TG_amp &lt; AMPLITUDE &lt; TG_amp.TG_dam</p>
</li>
<li><p class="first">RG = RotationGenerator(amplitude=RG_ang)</p>
</li>
<li><p class="first">MoveGeneratorCollector(collection=[TG,RG], randomize=True)</p>
</li>
</ul>
<p><strong>NB: The parameters are not checked for errors until engine runtime.</strong></p>
</li>
</ol>
</dd></dl>

<dl class="method">
<dt id="fullrmc.Selectors.OrderedSelectors.DirectionalOrderSelector.set_center">
<tt class="descname">set_center</tt><big>(</big><em>center</em><big>)</big><a class="headerlink" href="#fullrmc.Selectors.OrderedSelectors.DirectionalOrderSelector.set_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the center.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>center (None, list, set, tuple, numpy.ndarray): The center of expansion.
If None, the center is automatically set to the origin (0,0,0).</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fullrmc.Selectors.OrderedSelectors.DirectionalOrderSelector.set_expand">
<tt class="descname">set_expand</tt><big>(</big><em>expand</em><big>)</big><a class="headerlink" href="#fullrmc.Selectors.OrderedSelectors.DirectionalOrderSelector.set_expand" title="Permalink to this definition">¶</a></dt>
<dd><p>Set expand.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>expand (bool): Whether to set the order from the the further to the closest 
or from the closest to the further if it is set to False.</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fullrmc.Selectors.OrderedSelectors.DirectionalOrderSelector.set_adjust_move_generators">
<tt class="descname">set_adjust_move_generators</tt><big>(</big><em>adjustMoveGenerators</em><big>)</big><a class="headerlink" href="#fullrmc.Selectors.OrderedSelectors.DirectionalOrderSelector.set_adjust_move_generators" title="Permalink to this definition">¶</a></dt>
<dd><p>Set expand.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>adjustMoveGenerators (bool): If set to True, all groups move generator instances will
be changed automatically at engine runtime to a MoveGeneratorCollector of 
TranslationTowardsCenterGenerator and a randomRotation (for only more than 2 atoms groups). 
Generators parameters can be given by generatorsParams. It is advisable to 
set this flag to True in order to take advantage of an automatic and intelligent directional moves.</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-fullrmc.Selectors.RandomSelectors">
<span id="randomselectors"></span><h2>RandomSelectors<a class="headerlink" href="#module-fullrmc.Selectors.RandomSelectors" title="Permalink to this headline">¶</a></h2>
<p>RandomSelectors contains GroupSelector classes of random order of selections.</p>
<p class="graphviz">
<img src="_images/inheritance-ef937a2d17060aec390d174e2efc4fa7fd545f1f.png" alt="Inheritance diagram of fullrmc.Selectors.RandomSelectors" usemap="#inheritance35cb12d385" class="inheritance"/>
<map id="inheritance35cb12d385" name="inheritance35cb12d385">
<area shape="rect" id="node1" href="fullrmc.Core.html#fullrmc.Core.GroupSelector.GroupSelector" title="GroupSelector is the parent class that selects groups to perform moves upon engine runtime." alt="" coords="5,5,111,31"/>
<area shape="rect" id="node2" href="#fullrmc.Selectors.RandomSelectors.RandomSelector" title="RandomSelector generates indexes randomly for engine group selection." alt="" coords="159,5,277,31"/>
<area shape="rect" id="node4" href="#fullrmc.Selectors.RandomSelectors.WeightedRandomSelector" title="WeightedRandomSelector generates indexes randomly following groups weighting scheme." alt="" coords="325,5,499,31"/>
<area shape="rect" id="node3" href="#fullrmc.Selectors.RandomSelectors.SmartRandomSelector" title="SmartRandomSelector is a random group selector fed with machine learning algorithm." alt="" coords="547,5,700,31"/>
</map>
</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td colspan="2">Machine learning on group selection is shown herein. Groups are set to single atom where only random
translation moves generators with different amplitudes are used allowing moves to be accepted in different
ratios. In those two examples <a class="reference internal" href="#fullrmc.Selectors.RandomSelectors.SmartRandomSelector" title="fullrmc.Selectors.RandomSelectors.SmartRandomSelector"><tt class="xref py py-class docutils literal"><span class="pre">SmartRandomSelector</span></tt></a> allowing machine learning upon group
selection. No experimental constraints are used but only inter-molecular distances, intra-molecular bonds,
angles and improper angles constraints are used to keep the integrity of the system and molecules.
As one can see, group selection machine learning is very effective allowing consequent improvement on the
accepted moves. Still, fast convergence of the system and the ratio of accepted moves is highly correlated
with the move generator assigned to the groups.</td>
</tr>
<tr class="row-even"><td><div class="first last figure align-left">
<a class="reference internal image-reference" href="_images/machineLearningSelectionAmp0p3.png"><img alt="_images/machineLearningSelectionAmp0p3.png" src="_images/machineLearningSelectionAmp0p3.png" style="width: 375px; height: 300px;" /></a>
<p class="caption">25% of assigned moves generators amplitude is set
to 10A allowing very few moves on those groups
to be accepted and the rest of moves generators
amplitudes is set to 0.3A.</p>
</div>
</td>
<td><div class="first last figure align-left">
<a class="reference internal image-reference" href="_images/machineLearningSelectionAmp0p25.png"><img alt="_images/machineLearningSelectionAmp0p25.png" src="_images/machineLearningSelectionAmp0p25.png" style="width: 375px; height: 300px;" /></a>
<p class="caption">25% of assigned moves generators amplitude is set
to 10A allowing very few moves on those groups
to be accepted and the rest of moves generators
amplitudes is set to 0.25A.</p>
</div>
</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="fullrmc.Selectors.RandomSelectors.RandomSelector">
<em class="property">class </em><tt class="descclassname">fullrmc.Selectors.RandomSelectors.</tt><tt class="descname">RandomSelector</tt><big>(</big><em>engine=None</em><big>)</big><a class="headerlink" href="#fullrmc.Selectors.RandomSelectors.RandomSelector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="fullrmc.Core.html#fullrmc.Core.GroupSelector.GroupSelector" title="fullrmc.Core.GroupSelector.GroupSelector"><tt class="xref py py-class docutils literal"><span class="pre">fullrmc.Core.GroupSelector.GroupSelector</span></tt></a></p>
<p>RandomSelector generates indexes randomly for engine group selection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>engine (None, fullrmc.Engine): The selector fullrmc engine instance.</li>
</ol>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># import external libraries</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="c"># import fullrmc modules</span>
<span class="kn">from</span> <span class="nn">fullrmc.Engine</span> <span class="kn">import</span> <span class="n">Engine</span>
<span class="kn">from</span> <span class="nn">fullrmc.Selectors.RandomSelectors</span> <span class="kn">import</span> <span class="n">RandomSelector</span>

<span class="c"># create engine </span>
<span class="n">ENGINE</span> <span class="o">=</span> <span class="n">Engine</span><span class="p">(</span><span class="n">pdb</span><span class="o">=</span><span class="s">&#39;system.pdb&#39;</span><span class="p">)</span>

<span class="c"># Add constraints ...</span>
<span class="c"># Re-define groups if needed ...</span>
<span class="c"># Re-define groups generators as needed ...</span>

<span class="c"># set group selector as random selection from all defined groups.</span>
<span class="n">ENGINE</span><span class="o">.</span><span class="n">set_group_selector</span><span class="p">(</span> <span class="n">RandomSelector</span><span class="p">(</span><span class="n">ENGINE</span><span class="p">)</span> <span class="p">)</span>  
</pre></div>
</div>
<dl class="method">
<dt id="fullrmc.Selectors.RandomSelectors.RandomSelector.select_index">
<tt class="descname">select_index</tt><big>(</big><big>)</big><a class="headerlink" href="#fullrmc.Selectors.RandomSelectors.RandomSelector.select_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Select index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ol class="first last arabic simple">
<li>index (integer): the selected group index in engine groups list</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="fullrmc.Selectors.RandomSelectors.WeightedRandomSelector">
<em class="property">class </em><tt class="descclassname">fullrmc.Selectors.RandomSelectors.</tt><tt class="descname">WeightedRandomSelector</tt><big>(</big><em>engine</em>, <em>weights=None</em><big>)</big><a class="headerlink" href="#fullrmc.Selectors.RandomSelectors.WeightedRandomSelector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fullrmc.Selectors.RandomSelectors.RandomSelector" title="fullrmc.Selectors.RandomSelectors.RandomSelector"><tt class="xref py py-class docutils literal"><span class="pre">fullrmc.Selectors.RandomSelectors.RandomSelector</span></tt></a></p>
<p>WeightedRandomSelector generates indexes randomly following groups weighting scheme.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>engine (None, fullrmc.Engine): The selector RMC engine.</li>
<li>weights (None, list): Weights list. It must be None for equivalent weighting or list of (groupIndex, weight) tuples.</li>
</ol>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># import fullrmc modules</span>
<span class="kn">from</span> <span class="nn">fullrmc.Engine</span> <span class="kn">import</span> <span class="n">Engine</span>
<span class="kn">from</span> <span class="nn">fullrmc.Selectors.RandomSelectors</span> <span class="kn">import</span> <span class="n">WeightedRandomSelector</span>

<span class="c"># create engine </span>
<span class="n">ENGINE</span> <span class="o">=</span> <span class="n">Engine</span><span class="p">(</span><span class="n">pdb</span><span class="o">=</span><span class="s">&#39;system.pdb&#39;</span><span class="p">)</span>

<span class="c"># Add constraints ...</span>
<span class="c"># Re-define groups if needed ...</span>
<span class="c"># Re-define groups generators as needed ...</span>

<span class="c"># set group selector as random selection but with double likelihood to</span>
<span class="c"># selecting the first and the last group.</span>
<span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">ENGINE</span><span class="o">.</span><span class="n">pdb</span><span class="o">.</span><span class="n">indexes</span><span class="p">]</span>
<span class="n">weights</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">weights</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> 
<span class="n">ENGINE</span><span class="o">.</span><span class="n">set_group_selector</span><span class="p">(</span> <span class="n">WeightedRandomSelector</span><span class="p">(</span><span class="n">ENGINE</span><span class="p">,</span> <span class="n">weights</span><span class="p">)</span> <span class="p">)</span>  
</pre></div>
</div>
<dl class="attribute">
<dt id="fullrmc.Selectors.RandomSelectors.WeightedRandomSelector.weights">
<tt class="descname">weights</tt><a class="headerlink" href="#fullrmc.Selectors.RandomSelectors.WeightedRandomSelector.weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Groups weight of selection as initialized.</p>
</dd></dl>

<dl class="attribute">
<dt id="fullrmc.Selectors.RandomSelectors.WeightedRandomSelector.groupsWeight">
<tt class="descname">groupsWeight</tt><a class="headerlink" href="#fullrmc.Selectors.RandomSelectors.WeightedRandomSelector.groupsWeight" title="Permalink to this definition">¶</a></dt>
<dd><p>Groups weight of selection at current state.</p>
</dd></dl>

<dl class="attribute">
<dt id="fullrmc.Selectors.RandomSelectors.WeightedRandomSelector.selectionScheme">
<tt class="descname">selectionScheme</tt><a class="headerlink" href="#fullrmc.Selectors.RandomSelectors.WeightedRandomSelector.selectionScheme" title="Permalink to this definition">¶</a></dt>
<dd><p>Groups selection scheme used upon group selection.</p>
</dd></dl>

<dl class="method">
<dt id="fullrmc.Selectors.RandomSelectors.WeightedRandomSelector.set_weights">
<tt class="descname">set_weights</tt><big>(</big><em>weights</em><big>)</big><a class="headerlink" href="#fullrmc.Selectors.RandomSelectors.WeightedRandomSelector.set_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Set groups selection weighting scheme.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>weights (None, list): Weights list. It must be None for equivalent weighting or list of (groupIndex, weight) tuples.</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fullrmc.Selectors.RandomSelectors.WeightedRandomSelector.set_group_weight">
<tt class="descname">set_group_weight</tt><big>(</big><em>groupWeight</em><big>)</big><a class="headerlink" href="#fullrmc.Selectors.RandomSelectors.WeightedRandomSelector.set_group_weight" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a single group weight.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>groupWeight (list, set, tuple): Group weight list composed of groupIndex as first element and groupWeight as second.</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fullrmc.Selectors.RandomSelectors.WeightedRandomSelector.select_index">
<tt class="descname">select_index</tt><big>(</big><big>)</big><a class="headerlink" href="#fullrmc.Selectors.RandomSelectors.WeightedRandomSelector.select_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Select index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ol class="first last arabic simple">
<li>index (integer): the selected group index in engine groups list</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="fullrmc.Selectors.RandomSelectors.SmartRandomSelector">
<em class="property">class </em><tt class="descclassname">fullrmc.Selectors.RandomSelectors.</tt><tt class="descname">SmartRandomSelector</tt><big>(</big><em>engine</em>, <em>weights=None</em>, <em>biasFactor=1</em>, <em>unbiasFactor=None</em><big>)</big><a class="headerlink" href="#fullrmc.Selectors.RandomSelectors.SmartRandomSelector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fullrmc.Selectors.RandomSelectors.WeightedRandomSelector" title="fullrmc.Selectors.RandomSelectors.WeightedRandomSelector"><tt class="xref py py-class docutils literal"><span class="pre">fullrmc.Selectors.RandomSelectors.WeightedRandomSelector</span></tt></a></p>
<p>SmartRandomSelector is a random group selector fed with machine learning algorithm.
The indexes generation is biased and it evolves throughout the simulation towards 
selecting groups with more successful moves history.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>engine (None, fullrmc.Engine): The selector RMC engine.</li>
<li>weights (None, list): Weights list fed as initial biasing scheme. 
It must be None for equivalent weighting or list of (groupIndex, weight) tuples.</li>
<li>biasFactor (Number): The biasing factor of every group when a step get accepted.
Must be a positive number.</li>
<li>unbiasFactor(None, Number): Whether to un-bias a group&#8217;s weight when a move is rejected.
If None, un-biasing is turned off.
Un-biasing will be performed only if group weight remains positive.</li>
</ol>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># import fullrmc modules</span>
<span class="kn">from</span> <span class="nn">fullrmc.Engine</span> <span class="kn">import</span> <span class="n">Engine</span>
<span class="kn">from</span> <span class="nn">fullrmc.Selectors.RandomSelectors</span> <span class="kn">import</span> <span class="n">SmartRandomSelector</span>

<span class="c"># create engine </span>
<span class="n">ENGINE</span> <span class="o">=</span> <span class="n">Engine</span><span class="p">(</span><span class="n">pdb</span><span class="o">=</span><span class="s">&#39;system.pdb&#39;</span><span class="p">)</span>

<span class="c"># Add constraints ...</span>
<span class="c"># Re-define groups if needed ...</span>
<span class="c"># Re-define groups generators as needed ...</span>

<span class="c"># set group selector as random smart selection that will adjust its</span>
<span class="c"># weighting scheme to improve the chances of moves getting accepted.        </span>
<span class="n">ENGINE</span><span class="o">.</span><span class="n">set_group_selector</span><span class="p">(</span> <span class="n">SmartRandomSelector</span><span class="p">(</span><span class="n">ENGINE</span><span class="p">)</span> <span class="p">)</span>  
</pre></div>
</div>
<dl class="attribute">
<dt id="fullrmc.Selectors.RandomSelectors.SmartRandomSelector.biasFactor">
<tt class="descname">biasFactor</tt><a class="headerlink" href="#fullrmc.Selectors.RandomSelectors.SmartRandomSelector.biasFactor" title="Permalink to this definition">¶</a></dt>
<dd><p>The biasing factor.</p>
</dd></dl>

<dl class="attribute">
<dt id="fullrmc.Selectors.RandomSelectors.SmartRandomSelector.unbiasFactor">
<tt class="descname">unbiasFactor</tt><a class="headerlink" href="#fullrmc.Selectors.RandomSelectors.SmartRandomSelector.unbiasFactor" title="Permalink to this definition">¶</a></dt>
<dd><p>The unbiasing factor.</p>
</dd></dl>

<dl class="attribute">
<dt id="fullrmc.Selectors.RandomSelectors.SmartRandomSelector.selectionScheme">
<tt class="descname">selectionScheme</tt><a class="headerlink" href="#fullrmc.Selectors.RandomSelectors.SmartRandomSelector.selectionScheme" title="Permalink to this definition">¶</a></dt>
<dd><p>Groups selection scheme used upon group selection.</p>
</dd></dl>

<dl class="method">
<dt id="fullrmc.Selectors.RandomSelectors.SmartRandomSelector.set_bias_factor">
<tt class="descname">set_bias_factor</tt><big>(</big><em>biasFactor</em><big>)</big><a class="headerlink" href="#fullrmc.Selectors.RandomSelectors.SmartRandomSelector.set_bias_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the biasing factor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>biasFactor (Number): The biasing factor of every group when a step get accepted.
Must be a positive number.</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fullrmc.Selectors.RandomSelectors.SmartRandomSelector.set_unbias_factor">
<tt class="descname">set_unbias_factor</tt><big>(</big><em>unbiasFactor</em><big>)</big><a class="headerlink" href="#fullrmc.Selectors.RandomSelectors.SmartRandomSelector.set_unbias_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the unbiasing factor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>unbiasFactor(None, Number): Whether to unbias a group&#8217;s weight when a move is rejected.
If None, unbiasing is turned off.
Unbiasing will be performed only if group weight remains positive.</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fullrmc.Selectors.RandomSelectors.SmartRandomSelector.move_accepted">
<tt class="descname">move_accepted</tt><big>(</big><em>index</em><big>)</big><a class="headerlink" href="#fullrmc.Selectors.RandomSelectors.SmartRandomSelector.move_accepted" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called by the engine when a move generated on a group is accepted.
This method is empty must be overloaded when needed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>index (integer): the selected group index in engine groups list</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fullrmc.Selectors.RandomSelectors.SmartRandomSelector.move_rejected">
<tt class="descname">move_rejected</tt><big>(</big><em>index</em><big>)</big><a class="headerlink" href="#fullrmc.Selectors.RandomSelectors.SmartRandomSelector.move_rejected" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called by the engine when a move generated on a group is rejected.
This method is empty must be overloaded when needed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ol class="first last arabic simple">
<li>index (integer): the selected group index in engine groups list</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fullrmc.Selectors.RandomSelectors.SmartRandomSelector.select_index">
<tt class="descname">select_index</tt><big>(</big><big>)</big><a class="headerlink" href="#fullrmc.Selectors.RandomSelectors.SmartRandomSelector.select_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Select index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ol class="first last arabic simple">
<li>index (integer): the selected group index in engine groups list</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="fullrmc.Selectors.RandomSelectors.generate_random_float">
<tt class="descclassname">fullrmc.Selectors.RandomSelectors.</tt><tt class="descname">generate_random_float</tt><big>(</big><big>)</big><a class="headerlink" href="#fullrmc.Selectors.RandomSelectors.generate_random_float" title="Permalink to this definition">¶</a></dt>
<dd><p>random() -&gt; x in the interval [0, 1).</p>
</dd></dl>

</div>
</div>


        </div>
            </div>
        </div>
        
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">fullrmc.Selectors package</a><ul>
<li><a class="reference internal" href="#module-fullrmc.Selectors.OrderedSelectors">OrderedSelectors</a></li>
<li><a class="reference internal" href="#module-fullrmc.Selectors.RandomSelectors">RandomSelectors</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="fullrmc.Core.html"
                        title="previous chapter">fullrmc.Core package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="fullrmc.Generators.html"
                        title="next chapter">fullrmc.Generators package</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
        
        <div class="clearer"></div>
        </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a>
        </li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a>
             |
        
        </li>
        <li class="right" >
          <a href="fullrmc.Generators.html" title="fullrmc.Generators package"
             >next</a>
             |
        
        </li>
        <li class="right" >
          <a href="fullrmc.Core.html" title="fullrmc.Core package"
             >previous</a>
             |
        
        </li>
        <li><a href="index.html">fullrmc 0.4.0, the Reverse Monte Carlo (RMC) package</a> &raquo;</li> 
      </ul>
    </div>
            <div class="footer">
                    &copy; Copyright 2015, Bachir Aoun.
            </div>
    </body>
</html>